#!/usr/bin/env bash

ROOT_DIR=$(dirname $0)

rm -rf "${ROOT_DIR}/vim/bundle" "${ROOT_DIR}/vim/info"

for path in "${ROOT_DIR}"/*; do
    name=$(basename "${path}")
    if [[ "${name}" != "INSTALL" ]]; then
        if [[ -d "${path}" && ! -L "${path}" ]]; then
            rm -rf "${HOME}/.${name}"
        fi

        chmod -R go-rwx "${path}"
        ln -sf "${PWD}/${path}" "${HOME}/.${name}"
    fi
done

# Install Vim Vundle
git clone https://github.com/VundleVim/Vundle.Vim ~/.vim/bundle/Vundle.vim
vim +PluginInstall +qall
